[{"content":"\u003ch1 id=\"forecasting-energy-markets\"\u003eForecasting Energy Markets\u003c/h1\u003e\n\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eOver the past several years, global events have rocked the energy markets: the Covid-19 pandemic caused the price of oil to crash, while a combination of inflation and the sanctions placed on Russia due to its invasion of Ukraine have caused the price of oil and natural gas to skyrocket. As a result, it is important to be able to forecast energy markets accurately despite global uncertainty.\u003c/p\u003e\n\u003cp\u003eWith this in mind, my project aims at developing a tool to forecast energy markets consistently and accurately in a time-effective manner. This tool can help governments allocate resources efficiently and help investors optimize trading futures. Specifically, by pulling publicly available data, I will train different univariate models on past values to forecast future values.\u003c/p\u003e\n\u003ch2 id=\"tools\"\u003eTools\u003c/h2\u003e\n\u003cp\u003eI will be creating these models using Python. In particular, I will be using the pandas and numpy libraries to clean the data, the requests and json libraries to pull and parse the data, and the sklearn library to prepare the data. I will be using a XGBoost regressor, a Support Vector regressor, and a Random Forest regressor to forecast the data.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e requests\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e pandas \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e pd\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e numpy \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e np\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e matplotlib.pyplot \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e plt\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e itertools\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e math\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e datetime\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e xgboost \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e xgb\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e xgboost \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e XGBRegressor\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.ensemble \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e RandomForestRegressor\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.svm \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e SVR\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e sklearn\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.metrics \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e mean_squared_error\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.model_selection \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e GridSearchCV\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.model_selection \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e cross_val_score\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.model_selection \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e train_test_split\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.metrics \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e mean_absolute_error\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e pylab \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e rcParams\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ercParams[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;figure.facecolor\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;white\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ercParams[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;axes.facecolor\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;white\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ercParams[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;figure.figsize\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e12\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"pulling-data-from-the-us-energy-information-administration\"\u003ePulling Data from the U.S. Energy Information Administration\u003c/h2\u003e\n\u003cp\u003eThe U.S. Energy Information Administration (EIA) collects and disseminates energy data to the public to promote efficient markets, sound policy making, and public education. The EIA makes its data available through dashboards available here: \u003ca href=\"https://www.eia.gov/tools/\"\u003ehttps://www.eia.gov/tools/\u003c/a\u003e. For people who want to pull data locally, the EIA provides documentation for their API here: \u003ca href=\"https://www.eia.gov/opendata/documentation.php\"\u003ehttps://www.eia.gov/opendata/documentation.php\u003c/a\u003e. To pull the data, one needs to register an API key. I blurred mine out, but one can easily be obtained from their website. However, their API has several problems. The first is that when trying to determine which data to pull, the options are often hidden, making querying data tedious. Additionally, the maximum number of points that can be pulled per request is 5000 datapoints. If one wants to pull more data, they would either have to paginate or or filter their data in the API call, as opposed to in a dataframe tool, like Pandas, which would be typically more well known by the user. My first class, LoadQuery, addresses these issues.\u003c/p\u003e\n\u003cp\u003eThe class LoadQuery begins by looping through the different pages available, from which the user can select which data they want while having all options available, and then choose which dataset they want to pull. Next, the user will choose the periodicity of the data, if it comes in multiple formats, as well as the type of data that they want to pull, again, if the data comes in mulitple formats. Once chosen, the program will then paginate through the queries until all data is pulled. The data is then turned into a Pandas dataframe format, which can be accessed through the \u003ccode\u003e.df\u003c/code\u003e attribute of the LoadQuery object. The dataframe will be indexed by date.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edate_switch \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e {\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;annual\u0026#39;\u003c/span\u003e:\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;%Y\u0026#39;\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                   \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;monthly\u0026#39;\u003c/span\u003e:\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;%Y-%m\u0026#39;\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                   \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;daily\u0026#39;\u003c/span\u003e:\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eLoadQuery\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e __init__(self, header \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e,page \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e, key \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e,data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, frequency \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e,response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, format \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;https://api.eia.gov/v2\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e page \u003cspan style=\"color:#75715e\"\u003e##Which page you want to access. Created by running load_page\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e#XXXXXXXXX\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e data \u003cspan style=\"color:#75715e\"\u003e##The data you want to access with the query. Created by running choose_query\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e frequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eformat \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e format\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eload_page\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e##When running load_page, this creates\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\u003cspan style=\"color:#75715e\"\u003e#, verify = False)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;frequency\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e response[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekeys():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Choose your id\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            check \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e response[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;routes\u0026#39;\u003c/span\u003e]:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;id: \u0026#34;\u003c/span\u003e, i[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;id\u0026#39;\u003c/span\u003e], \u003cspan style=\"color:#e6db74\"\u003e\u0026#34; Name: \u0026#34;\u003c/span\u003e, i[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;name\u0026#39;\u003c/span\u003e],\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\r\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                check\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(i[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;id\u0026#39;\u003c/span\u003e])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            next_page \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e input()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e next_page \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e check:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;What you typed was not an option\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload_page()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003enext_page\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload_page()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003echoose_frequency\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e len(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;frequency\u0026#39;\u003c/span\u003e]) \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;frequency\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;id\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Choose the frequency\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            check \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;frequency\u0026#39;\u003c/span\u003e]:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                check\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(i[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;id\u0026#39;\u003c/span\u003e])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(i[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;id\u0026#39;\u003c/span\u003e])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            frequency \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e input()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e frequency \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e check:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e frequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;What you typed was not an option\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003echoose_frequency()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003echoose_data\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e len(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekeys()) \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e list(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekeys())[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Choose the data type\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            check \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekeys():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                check\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(i)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(i)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e input()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e data \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e check:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e data\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;What you typed was not an option\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003echoose_data()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecreate_info\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;data[]=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;frequency=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecreate_every_response\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eformat \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e date_switch[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/data\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;data[]=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;frequency=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        final \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e data[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e data[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;total\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        offset \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e5000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e total \u003cspan style=\"color:#f92672\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e5000\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e final\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            num_loops \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e math\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efloor(total\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e5000\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            offset \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e5000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e range(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e,num_loops):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/data\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;data[]=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;frequency=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;offset=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003estr(offset)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                final \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e data[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                offset \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e5000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                percent \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (offset\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e5000\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e/\u003c/span\u003etotal\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%.2f\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003epercent,\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e% o\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003ef the way done\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e final\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eget_total_number_of_data_points\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/data\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;data[]=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;frequency=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e response[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;total\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecreate_df\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        api_url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/data\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;data[]=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;frequency=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(api_url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame(data[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;response\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ereturn_url\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eheader\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/data\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekey\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;data[]=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026amp;frequency=\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrequency\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e url\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecreate_data_df\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecreate_index\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;period\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eto_datetime(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;period\u0026#39;\u003c/span\u003e],format \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eformat)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;time_idx\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDatetimeIndex(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;period\u0026#39;\u003c/span\u003e])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eset_index(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;time_idx\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esort_values(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;time_idx\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003erun_all\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload_page()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003echoose_frequency()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003echoose_data()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecreate_info()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecreate_every_response()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eresponse)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edrop_duplicates()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecreate_index()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Data has been obtained\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"building-the-models\"\u003eBuilding the Models\u003c/h2\u003e\n\u003cp\u003eTo build and determine the best model, I built the ForecastModel class below. A ForecastModel object takes four parameters: the data one wants to forecast which was pulled from the query, the number of past periods to train the models on, the number of periods to forecast, and the name of the column in the dataframe being passed that contains the data.\u003c/p\u003e\n\u003cp\u003eI perform a GridSearch across a Support Vector regressor, a XGBoost regressor, and a RandomForest regressor. First, I\u003c/p\u003e\n\u003cp\u003eTo build the models, I first call the \u003ccode\u003eshift_values()\u003c/code\u003e method to shift the values being predicted up a row so that the features in each row will forecast the value for the next day. Next, I call \u003ccode\u003etrain_models()\u003c/code\u003e, which calls the models and performs a GridSearch, trains each model on a 80/20 split, and then performs a forecast by using the datapoints forecasted as the features. I then store the error and the predictions for each model. Afterwards, I align the predictions with the dates they correspond to through \u003ccode\u003eupdate_df()\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eFinally, I call \u003ccode\u003eplot_best_model()\u003c/code\u003e to plot with the smallest MAE, while plot_data() plots all three models trained from the GridSearch. Calling \u003ccode\u003efind_best_model()\u003c/code\u003e works through the above steps and plots the best model. Calling the regressors attribute will display the final models created for each regressor. Below, I work through two examples.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eparams \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Support Vector Regressor\u0026#39;\u003c/span\u003e:{\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;C\u0026#34;\u003c/span\u003e: [\u003cspan style=\"color:#ae81ff\"\u003e0.5\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0.7\u003c/span\u003e], \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;kernel\u0026#39;\u003c/span\u003e:[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;rbf\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;poly\u0026#39;\u003c/span\u003e]},\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;RandomForest\u0026#39;\u003c/span\u003e:{\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;max_features\u0026#39;\u003c/span\u003e:[\u003cspan style=\"color:#ae81ff\"\u003e1.0\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sqrt\u0026#39;\u003c/span\u003e],\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;min_samples_split\u0026#39;\u003c/span\u003e:[\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e],\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;min_samples_leaf\u0026#39;\u003c/span\u003e:[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e],\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;bootstrap\u0026#39;\u003c/span\u003e:[\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e,\u003cspan style=\"color:#66d9ef\"\u003eFalse\u003c/span\u003e]},\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;XGBoost\u0026#39;\u003c/span\u003e:{\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;min_child_weight\u0026#39;\u003c/span\u003e: [\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e9\u003c/span\u003e],\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;colsample_bytree\u0026#39;\u003c/span\u003e: [\u003cspan style=\"color:#ae81ff\"\u003e0.2\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0.4\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e0.6\u003c/span\u003e],\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;max_depth\u0026#39;\u003c/span\u003e: [\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e9\u003c/span\u003e]}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eForecastModel\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e __init__(self, df\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, num_shifts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, num_predict \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, col \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                 error \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, test\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, predictions \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, final_df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, final_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, first_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e, regressors\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e col\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enum_shifts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e num_shifts\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enum_predict \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e num_predict\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edata \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshift_values()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eerror \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e error\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e test\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epredictions \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e predictions\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e final_df\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e final_date\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efirst_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e first_date\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e regressors\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecreate_regressors\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        regressors \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Support Vector Regressor\u0026#39;\u003c/span\u003e: [SVR()],\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;RandomForest\u0026#39;\u003c/span\u003e:[RandomForestRegressor()],\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;XGBoost\u0026#39;\u003c/span\u003e: [XGBRegressor()]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e regressors\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eshift_values\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        df_dummy \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol]]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopy()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e range(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e,self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enum_shifts\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;_shift \u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e str(i)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            df_dummy[name] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df_dummy[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshift(i)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        df_dummy[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df_dummy[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshift(\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        df_dummy \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df_dummy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edropna(how\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;any\u0026#39;\u003c/span\u003e,axis\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        y \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df_dummy[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e df_dummy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edrop(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol,axis\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e X,y\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etrain_models\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X,y \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshift_values()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X_train, X_test, y_train, y_test \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e train_test_split(X, y, test_size\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0.2\u003c/span\u003e, shuffle\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eFalse\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X_train \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003earray(X_train)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X_test \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003earray(X_test)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        y_train \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003earray(y_train)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        y_test \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003earray(y_test)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        X_pred \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e X_test\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopy()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecreate_regressors()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e reg \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Training \u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ereg)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            model \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#75715e\"\u003e#model.fit(X_train, y_train)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            grid \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e GridSearchCV(model, params[reg])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            grid\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit(X_train, y_train)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            model \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e grid\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ebest_estimator_\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e model\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e range(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e,len(X_pred)\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e model\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epredict([X_pred[i]])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    predictions \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003earray([new[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    predictions \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(predictions,np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003earray([new[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]]))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                X_pred[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e np\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003econcatenate([new,X_test[i\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e][:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            error \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e mean_absolute_error(y_test[:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e], predictions)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(error)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(predictions)   \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            print(reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; trained\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e y_test\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eupdate_df\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        first_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        final_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        length \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e len(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eindex)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e range(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e,length):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eindex\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget_loc(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eindex[i])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            new \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e x \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e len(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest) \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eiloc[new][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;value\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest[\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                first_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e x\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                final_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e new \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003ebreak\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efirst_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e first_date\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e final_date\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eiloc[first_date:final_date][[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol]]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopy()[:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;test\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etest[:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e reg \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df[reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg][\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eplot_best_model\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        left \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e500\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        right \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        min_error \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Support Vector Regressor\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        best_model_name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Support Vector Regressor\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e reg \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e min_error:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                min_error \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                best_model_name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reg\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        rcParams[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;figure.figsize\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol], label \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Full Dataset\u0026#39;\u003c/span\u003e, color \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;black\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df[best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e], label \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; Predictions\u0026#39;\u003c/span\u003e, color \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;blue\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        corr \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e str(round(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecorr()[best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;value\u0026#39;\u003c/span\u003e],\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        min_error_name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39; MAE: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%.3f\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e min_error\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etitle(best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; Predictions r^2: \u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ecorr\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emin_error_name)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elegend()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol][self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efirst_date \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e left:self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_date \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e right], label \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Previous\u0026#39;\u003c/span\u003e, color \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;black\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df[best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e], label \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; Predictions\u0026#39;\u003c/span\u003e, color \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;blue\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        corr \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e str(round(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecorr()[reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;value\u0026#39;\u003c/span\u003e],\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etitle(best_model_name\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; Predictions r^2: \u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ecorr\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emin_error_name)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elegend()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efind_best_model\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etrain_models()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eupdate_df()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot_best_model()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eplot_data\u003c/span\u003e(self):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        left \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e500\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        right \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e reg \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            min_error \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39; MAE: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%.3f\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eregressors[reg][\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            rcParams[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;figure.figsize\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e,\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecol][self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efirst_date \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e left:self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_date \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e right], label \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Previous\u0026#39;\u003c/span\u003e, color \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;black\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df[reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e], label \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; Predictions\u0026#39;\u003c/span\u003e, color \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;blue\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            corr \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e str(round(self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efinal_df\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecorr()[reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; preds\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;value\u0026#39;\u003c/span\u003e],\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etitle(reg\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; Predictions r^2: \u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003ecorr\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003emin_error)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elegend()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"forecasting-natural-gas-futures\"\u003eForecasting Natural Gas Futures\u003c/h2\u003e\n\u003cp\u003eBelow, I walk through the process outlined above to forecast natural gas futures. Specifically, I will be forecasting the Contract 1 futures prices. Because natural gas contracts expire three business days prior to the first calendar day of the delivery month, Contract 1 contains the calendar month following the trade date. Information can be found at this link: \u003ca href=\"https://www.eia.gov/dnav/ng/TblDefs/ng_pri_fut_tbldef2.asp\"\u003ehttps://www.eia.gov/dnav/ng/TblDefs/ng_pri_fut_tbldef2.asp\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eBelow, I create a LoadQuery object to pull the data that I want to forecast.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_query \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e LoadQuery()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_query\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003erun_all()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eChoose your id\nid:  coal  Name:  Coal\nid:  crude-oil-imports  Name:  Crude Oil Imports\nid:  electricity  Name:  Electricity\nid:  international  Name:  International\nid:  natural-gas  Name:  Natural Gas\nid:  nuclear-outages  Name:  Nuclear Outages\nid:  petroleum  Name:  Petroleum\nid:  seds  Name:  State Energy Data System (SEDS)\nid:  steo  Name:  Short Term Energy Outlook\nid:  densified-biomass  Name:  Densified Biomass\nid:  total-energy  Name:  Total Energy\nid:  aeo  Name:  Annual Energy Outlook\nid:  ieo  Name:  International Energy Outlook\nid:  co2-emissions  Name:  State CO2 Emissions\nnatural-gas\nChoose your id\nid:  sum  Name:  Summary\nid:  pri  Name:  Prices\nid:  enr  Name:  Exploration and Reserves\nid:  prod  Name:  Production\nid:  move  Name:  Imports and Exports/Pipelines\nid:  stor  Name:  Storage\nid:  cons  Name:  Consumption / End Use\npri\nChoose your id\nid:  sum  Name:  Natural Gas Prices\nid:  fut  Name:  Natural Gas Spot and Futures Prices (NYMEX)\nid:  rescom  Name:  Average Price of Natural Gas Delivered to Residential and Commercial Consumers by Local Distribution and Marketers in Selected States\nfut\nChoose the frequency\nweekly\nmonthly\ndaily\nannual\ndaily\n11.82 % of the way done\n23.64 % of the way done\n35.46 % of the way done\n47.28 % of the way done\n59.10 % of the way done\n70.92 % of the way done\n82.74 % of the way done\n94.56 % of the way done\nData has been obtained\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow that the data has been obtained, I call the dataframe to see the different features and how to filter for Contract 1.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_query\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;series-description\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eunique()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003earray([\u0026#39;Natural Gas Futures Contract 4 (Dollars per Million Btu)\u0026#39;,\n       \u0026#39;Natural Gas Futures Contract 2 (Dollars per Million Btu)\u0026#39;,\n       \u0026#39;Natural Gas Futures Contract 1 (Dollars per Million Btu)\u0026#39;,\n       \u0026#39;Natural Gas Futures Contract 3 (Dollars per Million Btu)\u0026#39;,\n       \u0026#39;Henry Hub Natural Gas Spot Price (Dollars per Million Btu)\u0026#39;],\n      dtype=object)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eI will filter on the series description \u0026lsquo;Natural Gas Futures Contract 1 (Dollars per Million Btu)\u0026rsquo;.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eseries_desc \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Natural Gas Futures Contract 1 (Dollars per Million Btu)\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e natural_gas_query\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[(natural_gas_query\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;series-description\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e series_desc)]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e natural_gas_data\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edropna()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_data\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ehead()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:left\"\u003etime_idx\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eperiod\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eduoarea\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003earea-name\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eproduct\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eproduct-name\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eprocess\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eprocess-name\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eseries\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eseries-description\u003c/th\u003e\n\u003cth style=\"text-align:right\"\u003evalue\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eunits\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-20 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-20 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPG0\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eRNGC4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas Futures Contract 4 (Dollars per Million Btu)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e1.894\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/MMBTU\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-21 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-21 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPG0\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eRNGC4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas Futures Contract 4 (Dollars per Million Btu)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e1.83\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/MMBTU\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-22 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-22 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPG0\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eRNGC4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas Futures Contract 4 (Dollars per Million Btu)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e1.859\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/MMBTU\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-23 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-23 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPG0\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eRNGC4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas Futures Contract 4 (Dollars per Million Btu)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e1.895\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/MMBTU\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-27 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1993-12-27 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPG0\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eRNGC4\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNatural Gas Futures Contract 4 (Dollars per Million Btu)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e1.965\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/MMBTU\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eI create the model by passing the dataframe \u003ccode\u003enatural_gas_data\u003c/code\u003e, train the model by having the previous 50 days predict the next day, forecast the next 150 days, and use the data in the column \u0026ldquo;value\u0026rdquo;.\u003c/p\u003e\n\u003cp\u003eAfter training the models, the best model is graphed below. The Support Vector regressor was the best model, and had an r\u003csup\u003e2\u003c/sup\u003e value of 0.982 with the testing data and a mean average error of 0.190.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_forecast \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ForecastModel(df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e natural_gas_data, num_shifts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e, num_predict \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e150\u003c/span\u003e, col \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;value\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efind_best_model()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eTraining Support Vector Regressor\nSupport Vector Regressor trained\nTraining RandomForest\nRandomForest trained\nTraining XGBoost\nXGBoost trained\n\u003c/code\u003e\u003c/pre\u003e\u003c!-- ![title](/images/nat_gas_fut_1.png)\n![title](/images/nat_gas_fut_2.png) --\u003e\n  \u003cp align=\"center\"\u003e\n    \u003cimg src=\"/images/nat_gas_fut_1f.png\" width=\"700\"\u003e\n  \u003c/p\u003e\n  \u003cp align=\"center\"\u003e\n    \u003cimg src=\"/images/nat_gas_fut_2f.png\" width=\"700\"\u003e\n  \u003c/p\u003e\n\u003cp\u003eBelow I plot the best predictions for each of the different regressors. In addition to the Suport Vector regressor, the XGBoost regressor closely predicted the test data, with an r\u003csup\u003e2\u003c/sup\u003e of 0.979 and an MAE of 0.218. The RandomForest regressor, however, clearly did not capture the trends in the data.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enatural_gas_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot_data()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/nat_gas_fut_1f.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/nat_gas_fut_rff.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/nat_gas_fut_xgboostf.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003ch2 id=\"forecasting-petroleum-futures\"\u003eForecasting Petroleum Futures\u003c/h2\u003e\n\u003cp\u003eI\u0026rsquo;ll now run through the same process by forecasting New York Harbor No. 2 Heating Oil Future Contract 1.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e LoadQuery()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003erun_all()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eChoose your id\nid:  coal  Name:  Coal\nid:  crude-oil-imports  Name:  Crude Oil Imports\nid:  electricity  Name:  Electricity\nid:  international  Name:  International\nid:  natural-gas  Name:  Natural Gas\nid:  nuclear-outages  Name:  Nuclear Outages\nid:  petroleum  Name:  Petroleum\nid:  seds  Name:  State Energy Data System (SEDS)\nid:  steo  Name:  Short Term Energy Outlook\nid:  densified-biomass  Name:  Densified Biomass\nid:  total-energy  Name:  Total Energy\nid:  aeo  Name:  Annual Energy Outlook\nid:  ieo  Name:  International Energy Outlook\nid:  co2-emissions  Name:  State CO2 Emissions\npetroleum\nChoose your id\nid:  sum  Name:  Summary\nid:  pri  Name:  Prices\nid:  crd  Name:  Crude Reserves and Production\nid:  pnp  Name:  Refining and Processing\nid:  move  Name:  Imports/Exports and Movements\nid:  stoc  Name:  Stocks\nid:  cons  Name:  Consumption/Sales\npri\nChoose your id\nid:  gnd  Name:  Weekly Retail Gasoline and Diesel Prices\nid:  spt  Name:  Spot Prices\nid:  fut  Name:  NYMEX Futures Prices\nid:  wfr  Name:  Weekly Heating Oil and Propane Prices (October - March)\nid:  refmg  Name:  Refiner Gasoline Prices by Grade and Sales Type\nid:  refmg2  Name:  U.S. Refiner Gasoline Prices by Formulation, Grade, Sales Type\nid:  refoth  Name:  Refiner Petroleum Product Prices by Sales Type\nid:  allmg  Name:  Gasoline Prices by Formulation, Grade, Sales Type\nid:  dist  Name:  No. 2 Distillate Prices by Sales Type\nid:  prop  Name:  Propane (Consumer Grade) Prices by Sales Type\nid:  resid  Name:  Residual Fuel Oil Prices by Sales Type\nid:  dfp1  Name:  Domestic Crude Oil First Purchase Prices by Area\nid:  dfp2  Name:  Domestic Crude Oil First Purchase Prices for Selected Crude Streams\nid:  dfp3  Name:  Domestic Crude Oil First Purchase Prices by API Gravity\nid:  rac2  Name:  Refiner Acquisition Cost of Crude Oil\nid:  imc1  Name:  F.O.B. Costs of Imported Crude Oil by Area\nid:  imc2  Name:  F.O.B. Costs of Imported Crude Oil for Selected Crude Streams\nid:  imc3  Name:  F.O.B. Costs of Imported Crude Oil by API Gravity\nid:  land1  Name:  Landed Costs of Imported Crude by Area\nid:  land2  Name:  Landed Costs of Imported Crude for Selected Crude Streams\nid:  land3  Name:  Landed Costs of Imported Crude by API Gravity\nid:  ipct  Name:  Percentages of Total Imported Crude Oil by API Gravity\nfut\nChoose the frequency\nweekly\ndaily\nmonthly\nannual\ndaily\n3.68 % of the way done\n7.36 % of the way done\n11.05 % of the way done\n14.73 % of the way done\n18.41 % of the way done\n22.09 % of the way done\n25.78 % of the way done\n29.46 % of the way done\n33.14 % of the way done\n36.82 % of the way done\n40.50 % of the way done\n44.19 % of the way done\n47.87 % of the way done\n51.55 % of the way done\n55.23 % of the way done\n58.91 % of the way done\n62.60 % of the way done\n66.28 % of the way done\n69.96 % of the way done\n73.64 % of the way done\n77.33 % of the way done\n81.01 % of the way done\n84.69 % of the way done\n88.37 % of the way done\n92.05 % of the way done\n95.74 % of the way done\n99.42 % of the way done\nData has been obtained\n\u003c/code\u003e\u003c/pre\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ehead()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:left\"\u003etime_idx\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eperiod\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eduoarea\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003earea-name\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eproduct\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eproduct-name\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eprocess\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eprocess-name\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eseries\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eseries-description\u003c/th\u003e\n\u003cth style=\"text-align:right\"\u003evalue\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eunits\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-02 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-02 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPD2F\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNo 2 Fuel Oil / Heating Oil\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE1\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 1\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEER_EPD2F_PE1_Y35NY_DPG\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNew York Harbor No. 2 Heating Oil Future Contract 1 (Dollars per Gallon)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e0.821\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/GAL\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-02 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-02 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPD2F\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNo 2 Fuel Oil / Heating Oil\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE3\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 3\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEER_EPD2F_PE3_Y35NY_DPG\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNew York Harbor No. 2 Heating Oil Future Contract 3 (Dollars per Gallon)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e0.89\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/GAL\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-03 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-03 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPD2F\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNo 2 Fuel Oil / Heating Oil\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE1\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 1\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEER_EPD2F_PE1_Y35NY_DPG\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNew York Harbor No. 2 Heating Oil Future Contract 1 (Dollars per Gallon)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e0.827\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/GAL\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-04 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e1980-01-04 00:00:00\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eY35NY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNEW YORK CITY\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEPD2F\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNo 2 Fuel Oil / Heating Oil\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003ePE3\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eFuture Contract 3\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eEER_EPD2F_PE3_Y35NY_DPG\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003eNew York Harbor No. 2 Heating Oil Future Contract 3 (Dollars per Gallon)\u003c/td\u003e\n\u003ctd style=\"text-align:right\"\u003e0.88\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e$/GAL\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;series-description\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eunique()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003earray([\u0026#39;New York Harbor No. 2 Heating Oil Future Contract 3 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor No. 2 Heating Oil Future Contract 1 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;Cushing, OK Crude Oil Future Contract 3 (Dollars per Barrel)\u0026#39;,\n       \u0026#39;Cushing, OK Crude Oil Future Contract 1 (Dollars per Barrel)\u0026#39;,\n       \u0026#39;New York Harbor Regular Gasoline Future Contract 3 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Regular Gasoline Future Contract 1 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;Cushing, OK Crude Oil Future Contract 2 (Dollars per Barrel)\u0026#39;,\n       \u0026#39;Cushing, OK Crude Oil Future Contract 4 (Dollars per Barrel)\u0026#39;,\n       \u0026#39;Mont Belvieu, Tx Propane Future Contract 1 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;Mont Belvieu, Tx Propane Future Contract 4 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor No. 2 Heating Oil Future Contract 4 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Regular Gasoline Future Contract 2 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Regular Gasoline Future Contract 4 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor No. 2 Heating Oil Future Contract 2 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;Mont Belvieu, Tx Propane Future Contract 2 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;Mont Belvieu, Tx Propane Future Contract 3 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Reformulated RBOB Regular Gasoline Future Contract 2 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Reformulated RBOB Regular Gasoline Future Contract 1 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Reformulated RBOB Regular Gasoline Future Contract 4 (Dollars per Gallon)\u0026#39;,\n       \u0026#39;New York Harbor Reformulated RBOB Regular Gasoline Future Contract 3 (Dollars per Gallon)\u0026#39;],\n      dtype=object)\n\u003c/code\u003e\u003c/pre\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetreoleum_forecast_data\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e petroleum_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[petroleum_forecast\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;series-description\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;New York Harbor No. 2 Heating Oil Future Contract 1 (Dollars per Gallon)\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetreoleum_forecast_data\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e petreoleum_forecast_data\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edropna()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAfter training the different models, this time the XGBoost regressor had the smallest MAE at 0.088 and the largest r\u003csup\u003e2\u003c/sup\u003e at 0.982 for the testing data.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast_model \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e ForecastModel(df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e petreoleum_forecast_data\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edf, num_shifts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e, num_predict \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e150\u003c/span\u003e, col \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;value\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast_model\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efind_best_model()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eTraining Support Vector Regressor\nSupport Vector Regressor trained\nTraining RandomForest\nRandomForest trained\nTraining XGBoost\nXGBoost trained\n\u003c/code\u003e\u003c/pre\u003e\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/pet_fut_11.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/pet_fut_zoom.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003cp\u003eLooking at the rest of the models, we see that the Support Vector regressor also predicted the data very well, while the RandomForest regressor was unable to capture the trend.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epetroleum_forecast_model\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot_data()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/pet_fut_svr.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/pet_fut_rf.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  \u003cimg src=\"/images/pet_fut_zoom.png\" width=\"700\"\u003e\n\u003c/p\u003e\n\u003ch2 id=\"conclusions-and-next-steps\"\u003eConclusions and Next Steps\u003c/h2\u003e\n\u003cp\u003eTaking a look at the natural gas and petroleum futures predictions, we are able to see that the models captured the volatility due to the Covid-19 pandemic and the invasion of Ukraine in their forecasting. As a result, it seems that univariate time-series models can be useful and cost-effective in forecasting markets.\u003c/p\u003e\n\u003cp\u003eI believe that there are several ways to improve this project. First, when testing the models across other datasets, the models were occasionally unable to capture seasonality in the data. As a result, when data appears more seasonal, performing a seasonality decomposition could increase model performance. Secondly, there were some datasets where models had more difficulty making predictions. Creating a multivariate model that incorporates features such as GDP, local and international conflicts, different weather events, and location could improve model performance as well.\u003c/p\u003e\n\u003c!--\n## Paragraph\n\nXerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\n\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\n\n## Blockquotes\n\nThe blockquote element represents content that is quoted from another source, optionally with a citation which must be within a `footer` or `cite` element, and optionally with in-line changes such as annotations and abbreviations.\n\n### Blockquote without attribution\n\n\u003e Tiam, ad mint andaepu dandae nostion secatur sequo quae.\n\u003e **Note** that you can use _Markdown syntax_ within a blockquote.\n\n### Blockquote with attribution\n\n\u003e Don't communicate by sharing memory, share memory by communicating.\u003c/p\u003e\n\u003e — \u003ccite\u003eRob Pike[^1]\u003c/cite\u003e\n\n[^1]: The above quote is excerpted from Rob Pike's [talk](https://www.youtube.com/watch?v=PAAkCSZUG1c) during Gopherfest, November 18, 2015.\n\n## Tables\n\nTables aren't part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\n\n| Name  | Age |\n| ----- | --- |\n| Bob   | 27  |\n| Alice | 23  |\n\n### Inline Markdown within tables\n\n| Inline\u0026nbsp;\u0026nbsp;\u0026nbsp; | Markdown\u0026nbsp;\u0026nbsp;\u0026nbsp; | In\u0026nbsp;\u0026nbsp;\u0026nbsp;                | Table  |\n| ------------------------ | -------------------------- | ----------------------------------- | ------ |\n| _italics_                | **bold**                   | ~~strikethrough~~\u0026nbsp;\u0026nbsp;\u0026nbsp; | `code` |\n\n## Code Blocks\n\n### Code block with backticks\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\" /\u003e\n    \u003ctitle\u003eExample HTML5 Document\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cp\u003eTest\u003c/p\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n### Code block indented with four spaces\n\n    \u003c!DOCTYPE html\u003e\n    \u003chtml lang=\"en\"\u003e\n    \u003chead\u003e\n      \u003cmeta charset=\"UTF-8\"\u003e\n      \u003ctitle\u003eExample HTML5 Document\u003c/title\u003e\n    \u003c/head\u003e\n    \u003cbody\u003e\n      \u003cp\u003eTest\u003c/p\u003e\n    \u003c/body\u003e\n    \u003c/html\u003e\n\n### Code block with Hugo's internal highlight shortcode\n\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-html\" data-lang=\"html\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;\u003cspan style=\"color:#f92672\"\u003ehtml\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003elang\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;en\u0026#34;\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;\u003cspan style=\"color:#f92672\"\u003ehead\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u0026lt;\u003cspan style=\"color:#f92672\"\u003emeta\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003echarset\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;UTF-8\u0026#34;\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u0026lt;\u003cspan style=\"color:#f92672\"\u003etitle\u003c/span\u003e\u0026gt;Example HTML5 Document\u0026lt;/\u003cspan style=\"color:#f92672\"\u003etitle\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ehead\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;\u003cspan style=\"color:#f92672\"\u003ebody\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u0026lt;\u003cspan style=\"color:#f92672\"\u003ep\u003c/span\u003e\u0026gt;Test\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ep\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ebody\u003c/span\u003e\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\n## List Types\n\n### Ordered List\n\n1. First item\n2. Second item\n3. Third item\n\n### Unordered List\n\n- List item\n- Another item\n- And another item\n\n### Nested list\n\n- Item\n  1. First Sub-item\n  2. Second Sub-item\n\n## Headings\n\nThe following HTML `\u003ch1\u003e`—`\u003ch6\u003e` elements represent six levels of section headings. `\u003ch1\u003e` is the highest section level while `\u003ch6\u003e` is the lowest.\n\n# H1\n\n## H2\n\n### H3\n\n#### H4\n\n##### H5\n\n###### H6\n\n## Other Elements — abbr, sub, sup, kbd, mark\n\n\u003cabbr title=\"Graphics Interchange Format\"\u003eGIF\u003c/abbr\u003e is a bitmap image format.\n\nH\u003csub\u003e2\u003c/sub\u003eO\n\nX\u003csup\u003en\u003c/sup\u003e + Y\u003csup\u003en\u003c/sup\u003e = Z\u003csup\u003en\u003c/sup\u003e\n\nPress \u003ckbd\u003e\u003ckbd\u003eCTRL\u003c/kbd\u003e+\u003ckbd\u003eALT\u003c/kbd\u003e+\u003ckbd\u003eDelete\u003c/kbd\u003e\u003c/kbd\u003e to end the session.\n\nMost \u003cmark\u003esalamanders\u003c/mark\u003e are nocturnal, and hunt for insects, worms, and other small creatures. --\u003e\n","description":"","image":"/images/nat_gas_fut_1f.png","permalink":"https://hugo-profile.netlify.app/blogs/forecasting_energy_markets/","title":"Predicting Energy Futures"}]